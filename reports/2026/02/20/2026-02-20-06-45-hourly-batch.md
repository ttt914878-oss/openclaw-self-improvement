# Hourly Batch (2026-02-20 06:45 JST)

## 1) 仮説
手動確認の抜け漏れを減らすため、バッチ必須成果物（memory/report/snapshot）の存在チェックをスクリプト化すると、再試行率と説明コストを下げられる。

## 2) 調査（委譲）
- gemini-cli-worker に外部知見収集を委譲中
- runId: `52ab5fa9-d72f-428d-8ada-f343b7453af1`
- 返却形式: 3行要約 + path + KPI増分（長文返却禁止）

## 3) 設計/実装
- `scripts/hourly_batch_check.sh` を追加
- 目的: 当日バッチで最低限必要な成果物の存在を機械チェック

## 4) テスト
- 実行: `scripts/hourly_batch_check.sh --date 2026-02-20`
- 結果: 初回 `CHECK=NG`（当日memory/report未作成）→ 期待どおり不足を検出

## 5) 評価
- 成果件数: 1（強制チェック導入）
- 推定トークン: 低（短文運用・ファイル直書き中心）
- 1成果あたりコスト: 前回同等以下を見込み（外部調査結果待ちで次バッチ確定）

## 6) Self-Audit
- 気づき遅れ: 「必須成果物の存在確認」を人手運用のまま放置していた。
- Root cause (1行): 検証ステップが“読む”依存で、失敗を機械的に止める仕組みがなかった。

## 7) 次バッチ
1. 外部調査結果をKPIへ反映
2. 3バッチ連続のコスト比較ログを明示
3. 失敗パターン→回復手順の標準化を1ページ化
